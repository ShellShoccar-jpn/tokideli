# GETFILETS(1)

## 名前

getfilets - ファイルのタイムスタンプ（atime、mtime、ctime）を取得

## 書式

```sh:
getftimes [options] file [file [...]]
```

## 説明

ls(1)コマンドでもファイルのタイムスタンプ（mtime）は取得できるものの、分未満の情報が得られないなど不完全です。一方、stat(1)コマンドで取得するという方法もありますが、フォーマットが統一されていないうえに、コマンド自体が存在しないOSがあるなど、実用性に問題があります。

本コマンドは引数で指定された各fileについて、必ず`atime mtime ctime ファイル名`の4列で出力します。atime、mtime、ctimeの具体的なフォーマットについては別途後述するオプションを参照してください。

## オプション

### -9

atime、mtime、ctimeの各タイムスタンプを、ナノ秒精度まで表示します。具体的なフォーマットについては-c、-e、-Iオプションで決まりますのでそれぞれを参照してください。

ただし、各OS（ファイルシステム）の対応状況によっては、秒未満の9桁、あるいはミリ秒未満の6桁、マイクロ秒未満の3桁が0で埋められて出力されます。

### -c

atime、mtime、ctimeそれぞれをカレンダー時間のフォーマットで出力します。具体例は次のとおりです。

* -9オプションがない場合 ... *YYYYMMDDhhmmss*
* -9オプションがある場合 ... *YYYYMMDDhhmmss.ddddddddd* （*d*は秒未満の桁）

タイムゾーンは、OSに設定されているものに準じます。明示的にタイムゾーンを指定したい場合には環境変数TZで設定してください。（「使用例」のセクションを参照）

-c、-e、-Iオプションはそれぞれ排他的であり、いずれも指定されなかった場合には、この-cオプションが指定されたものと見なされます。

### -e

atime、mtime、ctimeそれぞれをUNIX時間のフォーマットで出力します。具体例は次のとおりです。

* -9オプションがない場合 ... *n* （*n*はUNIX時間の秒数）
* -9オプションがある場合 ... *n.ddddddddd* （*d*は秒未満の桁）

-c、-e、-Iオプションはそれぞれ排他的であり、いずれも指定されなかった場合には、-cオプションが指定されたものと見なされます。

### -I

atime、mtime、ctimeそれぞれをISO 8601拡張フォーマットで出力します。具体例は次のとおりです。

* -9オプションがない場合 ... *YYYY-MM-DDThh:mm:ss+hh:mm*
* -9オプションがある場合 ... *YYYY-MM-DDThh:mm:ss,ddddddddd+hh:mm*

-c、-e、-Iオプションはそれぞれ排他的であり、いずれも指定されなかった場合には、-cオプションが指定されたものと見なされます。

### -u

タイムゾーンをUTCに設定します。これは環境変数TZに`UTC+0`を設定する場合と同じです。このオプションは、-c、-Iオプション指定時の表示内容に影響します。

## 戻り値

指定されたすべてのファイルについて正常に処理できた場合にのみ0を戻します。引数やオプションが不正であった場合や、ファイル異常などによって一つでも正常に処理できないファイルがあった場合には0以外を返します。

## 使用例

ファイル/etc/crontabおよび/etc/fstabのタイムスタンプを、カレンダー日時かつ現在OSに設定されているタイムゾーンで表示する。

```sh:
$ getfilets /etc/crontab /etc/fstab
```

現在のディレクトリーにあるすべてのファイルのタイムスタンプを、ISO 8601フォーマットかつPST-8のタイムゾーンで表示する。

```sh:
$ TZ=PST-8 getfilets -I *
```

## 規格への準拠

このコマンドのソースコードはC99、IEEE Std 1003.1-2001（“POSIX.1”）に準拠させてあります。
